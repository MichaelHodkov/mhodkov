<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Директории и файлы</title>
    <style type="text/css">
        .marginLeft {
            margin-left: 10px;
        }
    </style>
</head>
<body>
<div class="marginLeft">
<h1>Директории и файлы</h1>
</div>
<div class="marginLeft">
    <form th:action="@{/main}" method="post">
        <div><label>Новая директория: <input type="text" name="path" style="width: 50%" /></label> <input type="submit" value="Добавить в список"/></div>
    </form>
</div>
<div class="marginLeft" th:if="${error}" style="color: red">
    Путь не найден (<label th:text="${error}"/>)
</div>
<div class="marginLeft">
    <h3>Список директорий и файлов</h3>
</div>
<div class="marginLeft">
    <table cellspacing="2" border="2">
        <thead>
        <tr bgcolor="#dcdcdc">
            <th>Дата</th>
            <th>Базовая директория</th>
            <th>Директорий</th>
            <th>Файлов</th>
            <th>Суммарный размер файлов</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item: ${paths}">
            <td th:text="${item.time}" style="padding: 5px"></td>
            <td th:text="${item.path}"></td>
            <td th:text="${item.countDir}" align="center"></td>
            <td th:text="${item.countFile}" align="center"></td>
            <td th:text="${item.sumFile}" align="right"></td>
            <td><form th:action="@{/view}" method="post"><input type="submit" value="Файлы">
                <input type="hidden" name="path" th:value="${item.id}">
            </form></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>