## Описание контроллеров:

- MainController
>Обрабатывает все возможные `GET` запросы `/*`.
>>Если `/` или `/main` отображает главную страницу.  
Вернет `JSON` как параметр атрибута `json`.  
 Если был `GET` запрос с параметром `url`, вернет `JSON` c этим `url`, в `status` `200`, `error` не заполнено.  
 Если `url` не передавался, вернет `JSON`, в `status` `200`, `url` и `error` не заполнено.  
 ***Внимание! Url должен быть закодирован в `BASE64`.*** 


>>Любой другой запрос считается переходом по короткому адресу.  
>>>Если короткий адрес не найден. Вернет `JSON` как параметр атрибута `json`.  
В `JSON` параметр `url` будет содержать адрес в `BASE64`, в `error` будет сообщение с ошибкой, в `status` будет код `-1`.

>>>Если короткий адрес найден и не просрочен, произойдет переход.
  
>>>Если короткий адрес просрочен, вернет `JSON` как параметр атрибута `json`.  
В `JSON` параметр `url` будет содержать `полный адрес` в `BASE64`, в `error` будет сообщение с ошибкой, в `status` будет код `-1`.    

***В файле `config.properties` задается время жизни ссылки параметром  `url.lifeTime`, значение указывается в минутах.***

- ShortUrlController

>Получения короткой ссылки из обычной.

>Обрабатывает `GET` и `POST` запросы по `/shortUrl`.
>>На `POST` принимает `JSON` в котором ожидает получить обычную ссылку в `url` в кодировке `BASE64`.  
Возвращает `JSON` с результатами работы.
>>>Если были ошибки в `url`.  
Вернет `JSON` с тем же `url`, в `error` будет описание ошибки, в `status` будет `-1`.  

>>>Иначе проверит, есть ли в БД такой `url`.  
>>>>Если есть, обновит время ссылки и вернет `JSON` c `url` короткой ссылки в `BASE64` и `status` `2` (обновил). Поле `error` не заполнено.  

>>>>Если нет, создаст новую короткую ссылку и вернет `JSON` c `url` короткой ссылки в `BASE64` и `status` `1` (создал). Поле `error` не заполнено.

>>На `GET` запрос отображает страницу с короткой ссылкой переданной параметром `url`.

***В файле `config.properties` задается `имя хоста` параметром `domain.name`.***

***В файле `config.properties` задается `смещение` для получения короткой ссылки параметром `url.offset`.***

- FullUrlController

>Получения обычной ссылки из короткой.

>Обрабатывает `GET` и `POST` запросы по `/fullUrl`.
>>На `POST` принимает `JSON` в котором ожидает получить короткую ссылку в `url` в кодировке `BASE64`.  
Возвращает `JSON` с результатами работы.
>>>Если были ошибки в `url`.  
Вернет `JSON` с тем же `url`, в `error` будет описание ошибки, в `status` будет `-1`.  

>>>Иначе проверит, есть ли в БД такой `url`.  
>>>>Если есть, вернет `JSON` c `url` обычной ссылки в `BASE64` и `status` `3` (нашел). Поле `error` не заполнено.  

>>>>Если нет, вернет `JSON` c тем же `url` в `BASE64`, в `error` будет описание ошибки, в `status` будет `-1`.

>>На `GET` запрос отображает страницу с полной ссылкой переданной параметром `url`.

## Описание JSON:
{

"url": String (полный или короткий url в кодировке `BASE64`)

"status" int (статус операции)

"error" String (сообщение с ошибкой)

}

Возможные статусы:

- `-1` = Произошла ошибка

- `1` = Создан короткий url

- `2` = Короткий url обновлен (обновляется время создания)

- `3` = Короткий url найден в БД

- `200` = Нормальная работа. 